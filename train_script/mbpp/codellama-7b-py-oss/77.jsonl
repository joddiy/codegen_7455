{"task_id": "Mbpp/129", "completion": "\n    ```python\ndef magic_square_test(matrix):\n    n = len(matrix)\n    s = sum(range(1, n**2 + 1))  # Sum of all numbers from 1 to n^2\n\n    # Check if the sum of each row, column, and diagonal is the same\n    for i in range(n):\n        if sum(matrix[i]) != s or sum(matrix[j][i] for j in range(n)) != s:\n            return False\n\n    if sum(matrix[i][i] for i in range(n)) != s or sum(matrix[i][n-1-i] for i in range(n)) != s:\n        return False\n\n    return True\n```\n\nThe `magic_square_test` function takes a matrix as input and checks if it is a magic square. It first calculates the sum of all numbers from 1 to n^2 and then checks if the sum of each row, column, and diagonal is the same. If any of these conditions fail, the function returns False, indicating that the matrix is not a magic square. If all conditions are satisfied, the function returns True, indicating that the matrix is a magic square.", "all_code": "Below is an instruction that describes a task. Write a response that appropriately completes the request.\n\n\n    ### Instruction:\n    Create a Python script for this problem:\n    Write a function to calculate whether the matrix is a magic square. Your code should satisfy the following assertion:\n```python\nassert magic_square_test([[7, 12, 1, 14], [2, 13, 8, 11], [16, 3, 10, 5], [9, 6, 15, 4]])==True\n```\n\n    ### Response:\n    ```python\ndef magic_square_test(matrix):\n    n = len(matrix)\n    s = sum(range(1, n**2 + 1))  # Sum of all numbers from 1 to n^2\n\n    # Check if the sum of each row, column, and diagonal is the same\n    for i in range(n):\n        if sum(matrix[i]) != s or sum(matrix[j][i] for j in range(n)) != s:\n            return False\n\n    if sum(matrix[i][i] for i in range(n)) != s or sum(matrix[i][n-1-i] for i in range(n)) != s:\n        return False\n\n    return True\n```\n\nThe `magic_square_test` function takes a matrix as input and checks if it is a magic square. It first calculates the sum of all numbers from 1 to n^2 and then checks if the sum of each row, column, and diagonal is the same. If any of these conditions fail, the function returns False, indicating that the matrix is not a magic square. If all conditions are satisfied, the function returns True, indicating that the matrix is a magic square."}
