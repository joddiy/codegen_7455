{"task_id": "Mbpp/123", "completion": "\n```python\ndef amicable_numbers_sum(n):\n    def d(num):\n        return sum(i for i in range(1, num) if num % i == 0)\n\n    amicable_numbers = set()\n    for i in range(1, n+1):\n        if i not in amicable_numbers:\n            j = d(i)\n            if i != j and d(j) == i:\n                amicable_numbers.update([i, j])\n\n    return sum(amicable_numbers)\n\nassert amicable_numbers_sum(999)==504\n```\n\nThis Python script defines a function `amicable_numbers_sum(n)` that calculates the sum of all amicable numbers from 1 to `n`. An amicable number is a number that is equal to the sum of its proper divisors (excluding itself). The function `d(num)` calculates the sum of the proper divisors of a number. The script then iterates over all numbers from 1 to `n`, checks if they are amicable numbers and adds them to the set `amicable_numbers`. Finally, it returns the sum of all amicable numbers. The assertion at the end checks if the function works correctly for the given input.", "all_code": "Below is an instruction that describes a task. Write a response that appropriately completes the request.\n\n\n    ### Instruction:\n    Create a Python script for this problem:\n    Write a function to sum all amicable numbers from 1 to a specified number. Your code should satisfy the following assertion:\n```python\nassert amicable_numbers_sum(999)==504\n```\n\n    ### Response:\n```python\ndef amicable_numbers_sum(n):\n    def d(num):\n        return sum(i for i in range(1, num) if num % i == 0)\n\n    amicable_numbers = set()\n    for i in range(1, n+1):\n        if i not in amicable_numbers:\n            j = d(i)\n            if i != j and d(j) == i:\n                amicable_numbers.update([i, j])\n\n    return sum(amicable_numbers)\n\nassert amicable_numbers_sum(999)==504\n```\n\nThis Python script defines a function `amicable_numbers_sum(n)` that calculates the sum of all amicable numbers from 1 to `n`. An amicable number is a number that is equal to the sum of its proper divisors (excluding itself). The function `d(num)` calculates the sum of the proper divisors of a number. The script then iterates over all numbers from 1 to `n`, checks if they are amicable numbers and adds them to the set `amicable_numbers`. Finally, it returns the sum of all amicable numbers. The assertion at the end checks if the function works correctly for the given input."}
