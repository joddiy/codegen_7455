{"task_id": "Mbpp/123", "completion": "\n```python\ndef amicable_numbers_sum(n):\n    sum = 0\n    for i in range(1, n + 1):\n        sum += i if is_amicable(i) else 0\n    return sum\n\ndef is_amicable(n):\n    return sum_of_divisors(n) != n and sum_of_divisors(sum_of_divisors(n)) == n\n\ndef sum_of_divisors(n):\n    sum = 0\n    for i in range(1, n):\n        if n % i == 0:\n            sum += i\n    return sum\n```\n", "all_code": "Below is an instruction that describes a task. Write a response that appropriately completes the request.\n\n\n### Instruction:\nCreate a Python script for this problem:\nWrite a function to sum all amicable numbers from 1 to a specified number. Your code should satisfy the following assertion:\n```python\nassert amicable_numbers_sum(999)==504\n```\n\n### Response:\n```python\ndef amicable_numbers_sum(n):\n    sum = 0\n    for i in range(1, n + 1):\n        sum += i if is_amicable(i) else 0\n    return sum\n\ndef is_amicable(n):\n    return sum_of_divisors(n) != n and sum_of_divisors(sum_of_divisors(n)) == n\n\ndef sum_of_divisors(n):\n    sum = 0\n    for i in range(1, n):\n        if n % i == 0:\n            sum += i\n    return sum\n```\n"}
