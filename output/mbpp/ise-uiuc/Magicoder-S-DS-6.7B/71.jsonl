{"task_id": "Mbpp/123", "completion": "\nHere is a Python script that solves the problem:\n\n```python\ndef d(n):\n    sum = 1\n    i = 2\n    while i * i <= n:\n        if n % i:\n            i += 1\n        else:\n            if i * i != n:\n                sum = sum + i + n // i\n            else:\n                sum = sum + i\n            i += 1\n    return sum\n\ndef amicable_numbers_sum(n):\n    sum = 0\n    for i in range(2, n + 1):\n        j = d(i)\n        if j > i and d(j) == i:\n            sum += i\n    return sum\n\nassert amicable_numbers_sum(999) == 504\n```\n\nIn this script, the function `d(n)` calculates the sum of proper divisors of a number `n`. The function `amicable_numbers_sum(n)` calculates the sum of all amicable numbers from 1 to `n`. An amicable number is a number that is equal to the sum of its proper divisors (excluding itself) and is a number that is equal to the sum of its proper divisors (excluding itself).", "all_code": "Below is an instruction that describes a task. Write a response that appropriately completes the request.\n\n\n### Instruction:\nCreate a Python script for this problem:\nWrite a function to sum all amicable numbers from 1 to a specified number. Your code should satisfy the following assertion:\n```python\nassert amicable_numbers_sum(999)==504\n```\n\n### Response:\nHere is a Python script that solves the problem:\n\n```python\ndef d(n):\n    sum = 1\n    i = 2\n    while i * i <= n:\n        if n % i:\n            i += 1\n        else:\n            if i * i != n:\n                sum = sum + i + n // i\n            else:\n                sum = sum + i\n            i += 1\n    return sum\n\ndef amicable_numbers_sum(n):\n    sum = 0\n    for i in range(2, n + 1):\n        j = d(i)\n        if j > i and d(j) == i:\n            sum += i\n    return sum\n\nassert amicable_numbers_sum(999) == 504\n```\n\nIn this script, the function `d(n)` calculates the sum of proper divisors of a number `n`. The function `amicable_numbers_sum(n)` calculates the sum of all amicable numbers from 1 to `n`. An amicable number is a number that is equal to the sum of its proper divisors (excluding itself) and is a number that is equal to the sum of its proper divisors (excluding itself)."}
